<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Catering Order Manager</title>
<style>
body {
  font-family: Arial;
  background: #f2f2f2;
  padding: 20px;
}
h2 { text-align: center; }

input, select, button {
  width: 100%;
  padding: 8px;
  margin: 5px 0;
}

button {
  background: green;
  color: white;
  border: none;
  cursor: pointer;
}

.deleteBtn {
  background: red;
  color: white;
  padding: 5px;
}

table {
  width: 100%;
  margin-top: 20px;
  border-collapse: collapse;
  background: white;
}

th, td {
  border: 1px solid #ccc;
  padding: 6px;
  text-align: center;
}

th {
  background: #333;
  color: white;
}

.total {
  margin-top: 15px;
  font-weight: bold;
}
</style>
</head>

<body>

<h2>Catering Orders & Income</h2>

<input id="custName" placeholder="Customer Name">
<input id="phone" placeholder="Mobile Number">
<input id="dishName" placeholder="Dish Name">
<input id="orderLocation" placeholder="Order Location">
<input id="amount" type="number" placeholder="Total Amount">
<input id="advance" type="number" placeholder="Advance Paid">

<select id="status">
  <option>Pending</option>
  <option>Confirmed</option>
  <option>Ongoing</option>
  <option>Completed</option>
  <option>Cancelled</option>
</select>

<button onclick="addOrder()">Add Order</button>

<table>
<thead>
<tr>
<th>Name</th>
<th>Phone</th>
<th>Dish</th>
<th>Location</th>
<th>Total</th>
<th>Advance</th>
<th>Balance</th>
<th>Status</th>
<th>Action</th>
</tr>
</thead>
<tbody id="orderTable"></tbody>
</table>

<div class="total" id="income"></div>

<script>
let orderList = JSON.parse(localStorage.getItem("orders")) || [];

function addOrder() {
  let order = {
    name: document.getElementById("custName").value,
    phone: document.getElementById("phone").value,
    dish: document.getElementById("dishName").value,
    location: document.getElementById("orderLocation").value,
    amount: Number(document.getElementById("amount").value),
    advance: Number(document.getElementById("advance").value),
    status: document.getElementById("status").value
  };

  orderList.push(order);
  saveAndShow();
}

function deleteOrder(index) {
  orderList.splice(index, 1);
  saveAndShow();
}

function saveAndShow() {
  localStorage.setItem("orders", JSON.stringify(orderList));
  showOrders();
}

function showOrders() {
  let html = "";
  let income = 0;

  orderList.forEach((o, i) => {
    let balance = o.amount - o.advance;
    if (o.status === "Completed") income += o.amount;

    html += `
    <tr>
      <td>${o.name}</td>
      <td>${o.phone}</td>
      <td>${o.dish}</td>
      <td>${o.location}</td>
      <td>${o.amount}</td>
      <td>${o.advance}</td>
      <td>${balance}</td>
      <td>${o.status}</td>
      <td>
        <button class="deleteBtn" onclick="deleteOrder(${i})">
          Delete
        </button>
      </td>
    </tr>`;
  });

  document.getElementById("orderTable").innerHTML = html;
  document.getElementById("income").innerText =
    "Total Completed Income: â‚¹" + income;
}

showOrders();
</script>

</body>
</html>